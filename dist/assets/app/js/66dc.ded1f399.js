(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["66dc"],{"66dc":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"scanning-selected"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-8"},[s("p",{staticClass:"content-heading pt-0"},[s("i",{staticClass:"si si-arrow-left"}),s("span",{staticClass:"h3"},[t._v("Classificar seleção")]),s("router-link",{staticClass:"btn btn-dark btn-lg float-right shadow-sm text-uppercase",attrs:{to:"/scanning/"}},[s("i",{staticClass:"fa fa-arrow-left mr-10"}),t._v(" Voltar\n                ")])],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 left-content"},[s("div",{staticClass:"block block-rounded shadow-sm pb-10 block-thumbails"},[t._m(0),s("div",{staticClass:"block-content category-selected"},[s("div",{staticClass:"row"},t._l(t.selected_category,function(e,a){return s("div",{key:a,staticClass:"mx-3"},[s("button",{staticClass:"btn btn-block btn-outline-primary my-2 text-left",attrs:{type:"button",title:e.name}},[s("i",{staticClass:"fa fa-folder mr-5"}),s("span",{staticClass:"text-black"},[t._v(t._s(e.name))]),s("i",{staticClass:"ml-20 close fa fa-close close",on:{click:function(e){t.removeCategory(a)}}})])])})),t._m(1)])]),s("div",{staticClass:"block block-rounded shadow-sm pb-10 block-group"},[t._m(2),s("div",{staticClass:"block-content pt-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 px-0"},[s("form",{staticClass:"col-12",attrs:{action:"",method:"post",onsubmit:"return false;"}},[s("div",{staticClass:"row"},[t._l(t.subCategories,function(e,a){return e.length>0?s("div",{key:a,staticClass:"scrumboard js-scrumboard col-12 p-0"},[s("div",{staticClass:"scrumboard-items block-content pt-0"},[s("div",{staticClass:"scrumboard-item badge-pill bg-primary text-black py-0 px-15"},[s("div",{staticClass:"scrumboard-item-content pt-5"},[t._v("\n                                                    "+t._s(e)+"\n                                                ")])])])]):t._e()}),s("div",{staticClass:"col-12 mb-20"},[s("v-select",{ref:"selectCategory",staticClass:"btn-sm",attrs:{placeholder:"Selecione uma catergoria",multiple:"",options:t.categories,label:"name",selected:t.selected_category.categoryId},model:{value:t.selected_category,callback:function(e){t.selected_category=e},expression:"selected_category"}})],1)],2)])])])])])]),s("div",{staticClass:"col-md-4 right-content"},[t.loading.studentDetail?s("div",{staticClass:"block block-rounded shadow bg-primary student-data"},[t._m(3),s("div",{staticClass:"block-content"},[s("p",{staticClass:"text-white"},[s("i",{staticClass:"fa fa-file-text-o mr-10"}),s("strong",[t._v("Número da\n                        Matrícula:")]),t._v(" "+t._s(t.student[0].registration))]),s("p",{staticClass:"text-white"},[s("i",{staticClass:"fa fa-user mr-10"}),s("strong",[t._v("Nome:")]),t._v(" "+t._s(t.student[0].name)+"\n                    ")]),s("p",{staticClass:"text-white"},[s("i",{staticClass:"fa fa-building mr-10"}),s("strong",[t._v("Unidade:")]),t._v("\n                        "+t._s(t.student[0].unity))]),s("p",{staticClass:"text-white"},[s("i",{staticClass:"fa fa-graduation-cap mr-1"}),s("strong",[t._v("Curso:")]),t._v("\n                        "+t._s(t.student[0].course))])])]):s("div",[t._m(4)]),s("div",{staticClass:"block block-themed block-rounded shadow actions-content"},[t._m(5),s("div",{staticClass:"block-content bg-primary pt-30 pb-10"},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-12"},[s("button",{staticClass:"btn btn-alt-primary btn-lg btn-block text-uppercase",attrs:{type:"button","data-toggle":"modal","data-target":"#modalGroup"},on:{click:t.sendClassification}},[s("i",{staticClass:"fa fa-send"}),t._v(" Enviar\n                            ")])])])])])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block-header"},[s("h3",{staticClass:"block-title"},[s("strong",[t._v("\n                            Classificações selecionadas\n                            ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 px-0"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block-header"},[s("h3",{staticClass:"block-title"},[s("strong",[t._v("\n                            Tipo de Classificação\n                            ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block-header"},[s("h4",{staticClass:"block-title text-center text-white"},[t._v("Dados do aluno")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"text-center"},[s("i",{staticClass:"fa fa-spinner fa-spin"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block-header bg-gd-emerald shadow"},[s("h4",{staticClass:"block-title text-center text-white"},[t._v("Ações")])])}],n=(s("7f7f"),s("cadf"),s("551c"),s("46f1")),o=s("3d20"),c=s.n(o),l={data:function(){return{loading:{studentDetail:!1},student:{name:"-",unity:"-",course:"-",registration:"-"},subCategories:[],additionalFields:[],categories:[],selected_category:[]}},methods:{getDetails:function(){var t=this,e=this.$route.params.id,s=window.localStorage.selectedUnit;n["a"].get("/documentDetails/GetDocumentDetailsByRegistration?registration="+e+"&unityId="+s).then(function(e){var s=e.data;t.student=s.result,t.loading.studentDetail=!0})},getCategories:function(){var t=this;n["a"].get("/categories/getCategories").then(function(e){var s=e.data;t.categories=s.result})},removeCategory:function(t){this.selected_category.splice(t,1)},openModal:function(){setTimeout(function(){document.getElementById("newSlice").focus()},500)},sendClassification:function(){var t=this;if(0===this.selected_category.length)return c()({title:"Erro ao enviar",text:"Selecione ao menos uma categoria para salvar.",timer:3e3,type:"error"});var e=[];this.selected_category.map(function(t){e.push({categoryId:t.categoryId})});var s={registration:this.student[0].registration,name:this.student[0].name,unityId:localStorage.getItem("selectedUnit"),course:this.student[0].course,jobCategories:e};return c()({title:"Envio de Seleção de classificação",text:"Deseja realmente enviar a seleção de classificação?",type:"question",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(function(e){e.value&&n["a"].post("/scannings",s).then(function(){return c()({title:"Envio de Seleção de classificação enviado com sucesso",toast:!0,timer:3e3,type:"success",showConfirmButton:!1}).then(function(){return t.$router.push("/scanned")})}).catch(function(){return t.loading.pagesPdf=!1,t.loading.slicesCategory=!1,c()({title:"Erro ao salvar recorte!",toast:!0,timer:3e3,type:"error",showConfirmButton:!1})})})}},mounted:function(){this.getDetails(),this.getCategories()}},r=l,d=s("2877"),u=Object(d["a"])(r,a,i,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=66dc.ded1f399.js.map