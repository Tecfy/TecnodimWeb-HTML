(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70838e76"],{"0a49":function(t,e,s){var a=s("9b43"),i=s("626a"),n=s("4bf8"),o=s("9def"),c=s("cd1c");t.exports=function(t,e){var s=1==t,r=2==t,l=3==t,d=4==t,u=6==t,f=5==t||u,v=e||c;return function(e,c,m){for(var p,C,b=n(e),g=i(b),h=a(c,m,3),_=o(g.length),y=0,k=s?v(e,_):r?v(e,0):void 0;_>y;y++)if((f||y in g)&&(p=g[y],C=h(p,y,b),t))if(s)k[y]=C;else if(C)switch(t){case 3:return!0;case 5:return p;case 6:return y;case 2:k.push(p)}else if(d)return!1;return u?-1:l||d?d:k}}},1169:function(t,e,s){var a=s("2d95");t.exports=Array.isArray||function(t){return"Array"==a(t)}},"66dc":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"scanning-selected"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-8"},[s("p",{staticClass:"content-heading pt-0"},[s("i",{staticClass:"si si-arrow-left"}),s("span",{staticClass:"h3"},[t._v("Classificar seleção")]),s("router-link",{staticClass:"btn btn-dark btn-lg float-right shadow-sm text-uppercase",attrs:{to:"/scanning/"}},[s("i",{staticClass:"fa fa-arrow-left mr-10"}),t._v(" Voltar\n                ")])],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 left-content"},[t.loading.loadClassification?s("div",{staticClass:"block block-rounded shadow-sm pb-10 block-thumbails"},[t._m(0),s("div",{staticClass:"block-content category-selected"},[s("div",{staticClass:"row"},t._l(t.selected,function(e,a){return s("div",{key:a,staticClass:"mx-3"},[s("button",{staticClass:"btn btn-block btn-outline-primary my-2 text-left",attrs:{type:"button",title:e.name}},[s("i",{staticClass:"fa fa-folder mr-5"}),s("span",{staticClass:"text-black"},[t._v(t._s(e.name))]),s("i",{staticClass:"ml-20 close fa fa-close close",on:{click:function(e){t.removeCategory(a)}}})])])}),0),t._m(1)])]):s("div",[t._m(2)]),t.loading.loadClassification?s("div",{staticClass:"block block-rounded shadow-sm pb-10 block-group"},[t._m(3),s("div",{staticClass:"block-content pt-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 px-0"},[s("form",{staticClass:"col-12",attrs:{action:"",method:"post",onsubmit:"return false;"}},[s("div",{staticClass:"row"},[t._l(t.subCategories,function(e,a){return e.length>0?s("div",{key:a,staticClass:"scrumboard js-scrumboard col-12 p-0"},[s("div",{staticClass:"scrumboard-items block-content pt-0"},[s("div",{staticClass:"scrumboard-item badge-pill bg-primary text-black py-0 px-15"},[s("div",{staticClass:"scrumboard-item-content pt-5"},[t._v("\n                                                    "+t._s(e)+"\n                                                ")])])])]):t._e()}),s("div",{staticClass:"col-12 mb-20"},[s("v-select",{ref:"optionsCategories",staticClass:"btn-sm",attrs:{placeholder:"Selecione uma catergoria",multiple:"",options:t.availableOptions,label:"name",disabled:t.disabledInput},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("span",{attrs:{slot:"no-options"},slot:"no-options"},[t._v("Sem registros no momento.")])])],1)],2)])])])])]):s("div",[t._m(4)])]),s("div",{staticClass:"col-md-4 right-content"},[t.loading.studentDetail?s("div",{staticClass:"block block-rounded shadow bg-primary student-data"},[t._m(5),s("div",{staticClass:"block-content"},[s("p",{staticClass:"text-white"},[s("i",{staticClass:"fa fa-file-text-o mr-10"}),s("strong",[t._v("Número da\n                        Matrícula:")]),t._v(" "+t._s(t.student[0].registration))]),s("p",{staticClass:"text-white"},[s("i",{staticClass:"fa fa-user mr-10"}),s("strong",[t._v("Nome:")]),t._v(" "+t._s(t.student[0].name)+"\n                    ")]),s("p",{staticClass:"text-white"},[s("i",{staticClass:"fa fa-building mr-10"}),s("strong",[t._v("Unidade:")]),t._v("\n                        "+t._s(t.student[0].unity))]),s("p",{staticClass:"text-white"},[s("i",{staticClass:"fa fa-graduation-cap mr-1"}),s("strong",[t._v("Curso:")]),t._v("\n                        "+t._s(t.student[0].course))])])]):s("div",[t._m(6)]),s("div",{staticClass:"block block-themed block-rounded shadow actions-content"},[t._m(7),s("div",{staticClass:"block-content bg-primary pt-30 pb-10"},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-12"},[s("button",{staticClass:"btn btn-alt-primary btn-lg btn-block text-uppercase",attrs:{type:"button","data-toggle":"modal","data-target":"#modalGroup"},on:{click:t.sendClassification}},[s("i",{staticClass:"fa fa-send"}),t._v(" Enviar\n                            ")])])])])])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block-header"},[s("h3",{staticClass:"block-title"},[s("strong",[t._v("\n                            Classificações selecionadas\n                        ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 px-0"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"text-center"},[s("i",{staticClass:"fa fa-spinner fa-spin"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block-header"},[s("h3",{staticClass:"block-title"},[s("strong",[t._v("\n                            Tipo de Classificação\n                        ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"text-center"},[s("i",{staticClass:"fa fa-spinner fa-spin"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block-header"},[s("h4",{staticClass:"block-title text-center text-white"},[t._v("Dados do aluno")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"text-center"},[s("i",{staticClass:"fa fa-spinner fa-spin"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block-header bg-gd-emerald shadow"},[s("h4",{staticClass:"block-title text-center text-white"},[t._v("Ações")])])}],n=(s("7514"),s("7f7f"),s("cadf"),s("551c"),s("097d"),s("46f1")),o=s("3d20"),c=s.n(o),r={data:function(){return{disabledInput:!1,loading:{studentDetail:!1,loadClassification:!1},student:{name:"-",unity:"-",course:"-",registration:"-"},subCategories:[],additionalFields:[],options:[],selected:[],selectedIndex:"",selecVal:""}},methods:{removeCategory:function(t){this.selected.splice(t,1)},getDetails:function(){var t=this,e=this.$route.params.id,s=window.localStorage.selectedUnit;n["default"].get("/documentDetails/GetDocumentDetailsByRegistration?registration="+e+"&unityId="+s).then(function(e){var s=e.data;t.student=s.result,t.loading.studentDetail=!0})},getCategories:function(){var t=this;n["default"].get("/categories/getCategories").then(function(e){var s=e.data;t.options=s.result,t.loading.loadClassification=!0})},openModal:function(){setTimeout(function(){document.getElementById("newSlice").focus()},500)},sendClassification:function(){var t=this;if(0===this.selected.length)return c()({title:"Erro ao enviar",text:"Selecione ao menos uma categoria para salvar.",timer:3e3,type:"error"});var e=[];this.selected.map(function(t){e.push({categoryId:t.categoryId})});var s={registration:this.student[0].registration,name:this.student[0].name,unityId:localStorage.getItem("selectedUnit"),course:this.student[0].course,jobCategories:e};return c()({title:"Envio de Seleção de classificação",text:"Deseja realmente enviar a seleção de classificação?",type:"question",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(function(e){e.value&&n["default"].post("/scannings",s).then(function(){return c()({title:"Envio de Seleção de classificação enviado com sucesso",toast:!0,timer:3e3,type:"success",showConfirmButton:!1}).then(function(){return t.$router.push("/scanned")})}).catch(function(){return t.loading.pagesPdf=!1,t.loading.slicesCategory=!1,c()({title:"Erro ao salvar recorte!",toast:!0,timer:3e3,type:"error",showConfirmButton:!1})})})}},computed:{availableOptions:function(){var t=this;return this.options.filter(function(e){var s=t.selected.find(function(t){return t.categoryId===e.categoryId});return"undefined"===typeof s})}},mounted:function(){this.getDetails(),this.getCategories()}},l=r,d=s("2877"),u=Object(d["a"])(l,a,i,!1,null,null,null);e["default"]=u.exports},7514:function(t,e,s){"use strict";var a=s("5ca1"),i=s("0a49")(5),n="find",o=!0;n in[]&&Array(1)[n](function(){o=!1}),a(a.P+a.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(n)},cd1c:function(t,e,s){var a=s("e853");t.exports=function(t,e){return new(a(t))(e)}},e853:function(t,e,s){var a=s("d3f4"),i=s("1169"),n=s("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),a(e)&&(e=e[n],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=chunk-70838e76.3e7f22a0.js.map