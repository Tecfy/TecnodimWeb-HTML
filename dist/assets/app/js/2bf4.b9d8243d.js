(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2bf4"],{"2bf4":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cut-dossie"},[t._m(0),a("div",{staticClass:"block block-themed block-rounded shadow-lg"},[t._m(1),a("div",{staticClass:"block-content bg-primary"},[a("form",{attrs:{action:"",method:"post",onsubmit:"return false;"}},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-4 col-md-6"},[a("label",{staticClass:"col-12 pl-0 text-white h5 mb-2",attrs:{for:"registration-number"}},[t._v("Número da matrícula")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchRegistration,expression:"searchRegistration"},{name:"mask",rawName:"v-mask",value:"#####################",expression:"'#####################'"}],ref:"fieldRegistration",staticClass:"form-control form-control-lg",attrs:{type:"text",id:"registration-number",name:"registration-number"},domProps:{value:t.searchRegistration},on:{input:function(s){s.target.composing||(t.searchRegistration=s.target.value)}}})]),a("div",{staticClass:"col-lg-4 col-md-6"},[a("label",{staticClass:"col-12 pl-0 text-white h5 mb-2",attrs:{for:"student-name"}},[t._v("Nome do aluno")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"student-name",name:"student-name"},domProps:{value:t.searchName},on:{input:function(s){s.target.composing||(t.searchName=s.target.value)}}})]),a("div",{staticClass:"col-lg-2 col-md-6"},[a("label",{staticClass:"col-12 pl-0 text-white h5 mb-2"},[t._v("Status")]),a("v-select",{attrs:{options:t.status},model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}})],1),a("div",{staticClass:"col-lg-2 col-md-6 pt-20 mt-5"},[a("button",{ref:"searchButton",staticClass:"btn btn-alt-primary btn-lg btn-block mt-1",on:{click:function(s){t.getDossies(1)}}},[t._v("Buscar "),a("i",{staticClass:"fa fa-search ml-5"})])])])])])]),a("div",{staticClass:"block mt-50"},[t.loadingDossies?a("div",[t._m(3)]):a("div",{staticClass:"block-content"},[a("h5",{staticClass:"pt-1 text-right"},[a("span",{staticClass:"mr-10"},[a("strong",[t._v(t._s(t.totalCount))])]),a("small",[t._v("registros encontrados")])]),a("table",{staticClass:"table table-vcenter"},[t._m(2),a("tbody",t._l(t.searchResult,function(s){return a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s.registration))]),a("td",[t._v(t._s(s.name))]),a("td",[1===s.statusId?a("span",{staticClass:"badge badge-danger"},[t._v("Não iniciado")]):t._e(),2===s.statusId?a("span",{staticClass:"badge badge-primary"},[t._v("Iniciado")]):t._e()]),a("td",{staticClass:"text-right"},[a("div",{staticClass:"btn-group"},[a("router-link",{staticClass:"btn btn-lg btn-success js-tooltip-enabled",attrs:{to:"/cut-selected/"+s.documentId,"data-title":"Iniciar recorte"}},[a("i",{staticClass:"fa fa-crop"})])],1)])])}))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("nav",[a("ul",{staticClass:"pagination float-right mt-20"},[a("li",{}),a("li",{staticClass:"page-item",class:{disabled:1===t.currentPage}},[a("a",{staticClass:"page-link",on:{click:function(s){t.getDossies("back")}}},[t._v("Anterior")])]),t._l(t.numPagination,function(s){return a("li",{staticClass:"page-item",class:{disabled:t.currentPage===s}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){t.getDossies(s)}}},[t._v(t._s(s))])])}),a("li",{staticClass:"page-item",class:{disabled:t.currentPage===t.numPagination}},[a("a",{staticClass:"page-link",on:{click:function(s){t.getDossies("next")}}},[t._v("Próximo")])])],2)])])])])])])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",{staticClass:"content-heading"},[a("i",{staticClass:"si si-arrow-left"}),a("span",{staticClass:"h3"},[t._v("Dossiês à recortar")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"block-header bg-gd-emerald shadow"},[a("h5",{staticClass:"text-black mb-0"},[t._v("Utilize a busca abaixo para localizar um dossiê por matrícula ou por\n                nome.")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",{staticClass:"thead-light mb-50"},[a("tr",{staticClass:"p-50"},[a("th",{staticClass:"py-20"},[a("b",[t._v("Matrícula")])]),a("th",{staticClass:"py-20"},[a("b",[t._v("Nome")])]),a("th",{staticClass:"py-20"},[a("b",[t._v("Status")])]),a("th",{staticClass:"py-20"})])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("h2",{staticClass:"text-center"},[a("i",{staticClass:"fa fa-spinner fa-spin"})])}],n=(a("cadf"),a("551c"),a("46f1")),c={data:function(){return{searchResult:[],loadingDossies:!0,searchName:"",searchRegistration:"",searchStatus:"",status:[{id:0,label:"Selecione"},{id:1,label:"Não iniciado"},{id:2,label:"Iniciado"}],selected:{id:0,label:"Selecione"},currentPage:1,totalCount:null,totalShow:10,numPagination:0,searchActivate:!1}},methods:{getDossies:function(t){var s=this,a=window.localStorage.selectedUnit;this.loadingDossies=!0,"back"===t?this.currentPage--:"next"===t?this.currentPage++:this.currentPage=t;var e="/Documents/getDocumentSlices?unityId="+a,i="/Documents/getDocumentSlices?unityId="+a+"&currentPage="+this.currentPage+"&qtdEntries="+this.totalShow;0!==this.searchRegistration.length&&(e+="&registration="+this.searchRegistration,i+="&registration="+this.searchRegistration),0!==this.searchName.length&&(e+="&name="+this.searchName,i+="&name="+this.searchName),1===this.selected.id&&(e+="&documentStatusId=1",i+="&documentStatusId=1"),2===this.selected.id&&(e+="&documentStatusId=2",i+="&documentStatusId=2"),this.createPagination(e),n["a"].get(i).then(function(t){var a=t.data;s.loadingDossies=!1,s.searchResult=a.result}),this.$refs.fieldRegistration.focus()},createPagination:function(t){var s=this;n["a"].get(t).then(function(t){var a=t.data;s.loadingDossies=!1,s.totalCount=a.result.length,s.numPagination=Math.ceil(s.totalCount/s.totalShow)})}},mounted:function(){this.getDossies(this.currentPage)},watch:{selected:function(){"Selecione"!==this.selected&&this.$refs.searchButton.focus()}}},l=c,o=a("2877"),r=Object(o["a"])(l,e,i,!1,null,null,null);s["default"]=r.exports}}]);
//# sourceMappingURL=2bf4.b9d8243d.js.map