(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217cab"],{c7de:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cut-dossie"},[t._m(0),a("div",{staticClass:"block block-themed block-rounded shadow-lg"},[t._m(1),a("div",{staticClass:"block-content bg-primary"},[a("form",{attrs:{action:"",method:"post",onsubmit:"return false;"}},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchId,expression:"searchId"}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"student-name",name:"student-name",placeholder:"ID"},domProps:{value:t.searchId},on:{input:function(s){s.target.composing||(t.searchId=s.target.value)}}})]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchRegistration,expression:"searchRegistration"},{name:"mask",rawName:"v-mask",value:"#####################",expression:"'#####################'"}],ref:"fieldRegistration",staticClass:"form-control form-control-lg",attrs:{type:"text",id:"registration-number",name:"registration-number",placeholder:"Nº. da matrícula"},domProps:{value:t.searchRegistration},on:{input:function(s){s.target.composing||(t.searchRegistration=s.target.value)}}})]),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchExternalId,expression:"searchExternalId"}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"external-id",name:"external-id",placeholder:"Identificador SE"},domProps:{value:t.searchExternalId},on:{input:function(s){s.target.composing||(t.searchExternalId=s.target.value)}}})]),a("div",{staticClass:"col-md-4 mt-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"student-name",name:"student-name",placeholder:"Nome do aluno"},domProps:{value:t.searchName},on:{input:function(s){s.target.composing||(t.searchName=s.target.value)}}})]),a("div",{staticClass:"col-md-4 mt-3"},[a("v-select",{attrs:{options:t.status},on:{selected:t.focusButton},model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}})],1),a("div",{staticClass:"col-md-4 pt-5 mt-5"},[a("button",{ref:"searchButton",staticClass:"btn btn-alt-primary btn-lg btn-block mt-1",on:{click:function(s){t.getDossies(1)}}},[t._v("Buscar\n              "),a("i",{staticClass:"fa fa-search ml-5"})])])])])])]),a("div",{staticClass:"block mt-50"},[a("div",{staticClass:"block mt-50"},[t.loadingDossies?a("div",[t._m(3)]):a("div",{staticClass:"block-content"},[a("h5",{staticClass:"pt-1 text-right"},[a("span",{staticClass:"mr-10"},[a("strong",[t._v(t._s(t.totalCount))])]),a("small",[t._v("registros encontrados")])]),a("table",{staticClass:"table table-vcenter"},[t._m(2),a("tbody",t._l(t.searchResult,function(s,e){return a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(s.documentId))]),a("td",[t._v(t._s(s.registration))]),a("td",[t._v(t._s(s.externalId))]),a("td",[t._v(t._s(s.name))]),a("td",[3===s.statusId?a("span",{staticClass:"badge badge-danger"},[t._v("Não iniciado")]):t._e(),4===s.statusId?a("span",{staticClass:"badge badge-primary"},[t._v("Iniciado")]):t._e()]),a("td",[t._v(t._s(t.convertingDate(e)))]),a("td",{staticClass:"text-right"},[a("div",{staticClass:"btn-group"},[3===s.statusId?a("router-link",{staticClass:"btn btn-lg btn-success js-tooltip-enabled",attrs:{to:"/rate-dossie-selected-single/"+s.documentId,"data-title":"Iniciar classificação"}},[a("i",{staticClass:"fa fa-file-text-o"})]):t._e(),4===s.statusId?a("router-link",{staticClass:"btn btn-lg btn-success js-tooltip-enabled",attrs:{to:"/rate-dossie-selected-single/"+s.documentId,"data-title":"Iniciar classificação"}},[a("i",{staticClass:"fa fa-file-text-o"})]):t._e()],1)])])}),0)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("nav",[a("ul",{staticClass:"pagination float-right mt-20"},[a("li",{}),a("li",{staticClass:"page-item",class:{disabled:1===t.currentPage}},[a("a",{staticClass:"page-link",on:{click:function(s){t.getDossies("back")}}},[t._v("Anterior")])]),t._l(t.numPagination,function(s,e){return a("li",t._b({directives:[{name:"show",rawName:"v-show",value:t.showPagination(s),expression:"showPagination(n)"}],staticClass:"page-item",class:{disabled:t.currentPage===s}},"li",e,!1),[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){t.getDossies(s)}}},[t._v(t._s(s))])])}),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link page-total"},[t._v("de "+t._s(t.numPagination)+" ")])]),a("li",{staticClass:"page-item",class:{disabled:t.currentPage===t.numPagination}},[a("a",{staticClass:"page-link",on:{click:function(s){t.getDossies("next")}}},[t._v("Próximo")])])],2)])])])])])])])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",{staticClass:"content-heading"},[a("i",{staticClass:"si si-arrow-left"}),a("span",{staticClass:"h3"},[t._v("Dossiês à classificar")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"block-header bg-gd-emerald shadow"},[a("h5",{staticClass:"text-black mb-0"},[t._v("Utilize a busca abaixo para localizar um dossiê por matrícula ou por\n        nome.")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",{staticClass:"thead-light mb-50"},[a("tr",{staticClass:"p-50"},[a("th",{staticClass:"py-20"},[a("b",[t._v("Id")])]),a("th",{staticClass:"py-20"},[a("b",[t._v("Matrícula")])]),a("th",{staticClass:"py-20"},[a("b",[t._v("Identificador SE")])]),a("th",{staticClass:"py-20"},[a("b",[t._v("Nome")])]),a("th",{staticClass:"py-20"},[a("b",[t._v("Status")])]),a("th",{staticClass:"py-20"},[a("b",[t._v("Criado")])]),a("th",{staticClass:"py-20"})])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("h2",{staticClass:"text-center"},[a("i",{staticClass:"fa fa-spinner fa-spin"})])}],n=(a("cadf"),a("551c"),a("097d"),a("46f1")),c={data:function(){return{searchResult:[],loadingDossies:!0,searchId:"",searchExternalId:"",searchName:"",searchRegistration:"",searchStatus:"",status:[{id:0,label:"Selecione Status"},{id:1,label:"Não iniciado"},{id:2,label:"Iniciado"}],selected:{id:0,label:"Selecione Status"},currentPage:1,totalCount:null,totalShow:10,numPagination:0,searchActivate:!1}},methods:{focusButton:function(){alert("opre"),this.$refs.searchButton.focus()},getDossies:function(t){var s=this,a=window.localStorage.selectedUnit;this.loadingDossies=!0,"back"===t?this.currentPage--:"next"===t?this.currentPage++:this.currentPage=t;var e="/Documents/GetDocumentClassificateds?unityId="+a,i="/Documents/GetDocumentClassificateds?unityId="+a+"&currentPage="+this.currentPage+"&qtdEntries="+this.totalShow;0!==this.searchRegistration.length&&(e+="&registration="+this.searchRegistration,i+="&registration="+this.searchRegistration),0!==this.searchName.length&&(e+="&name="+this.searchName,i+="&name="+this.searchName),1===this.selected.id&&(e+="&documentStatusId=3",i+="&documentStatusId=3"),2===this.selected.id&&(e+="&documentStatusId=4",i+="&documentStatusId=4"),0!==this.searchExternalId.length&&(e+="&externalId="+this.searchExternalId,i+="&externalId="+this.searchExternalId),0!==this.searchId.length&&(e+="&documentId="+this.searchId,i+="&documentId="+this.searchId),this.createPagination(e),n["default"].get(i).then(function(t){var a=t.data;s.loadingDossies=!1,s.searchResult=a.result}),this.$refs.fieldRegistration.focus()},createPagination:function(t){var s=this;n["default"].get(t).then(function(t){var a=t.data;s.loadingDossies=!1,s.totalCount=a.totalCount,s.numPagination=Math.ceil(s.totalCount/s.totalShow)})},showPagination:function(t){if(this.currentPage===t||t===this.currentPage-1||t===this.currentPage-2||t===this.currentPage+1||t===this.currentPage+2)return!0},convertingDate:function(t){var s=this.searchResult[t].createdDate,a=s.substr(0,4),e=s.substr(5,2),i=s.substr(8,2),n=i+"/"+e+"/"+a;return n}},mounted:function(){this.getDossies(this.currentPage)},watch:{selected:function(){"Selecione Status"!==this.selected&&this.$refs.searchButton.focus()}}},r=c,o=a("2877"),l=Object(o["a"])(r,e,i,!1,null,null,null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d217cab.660bb347.js.map