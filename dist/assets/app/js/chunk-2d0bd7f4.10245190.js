(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd7f4"],{"2bf4":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"cut-dossie"},[t._m(0),s("div",{staticClass:"block block-themed block-rounded shadow-lg"},[t._m(1),s("div",{staticClass:"block-content bg-primary"},[s("form",{attrs:{action:"",method:"post",onsubmit:"return false;"}},[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchId,expression:"searchId"}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"student-name",name:"student-name",placeholder:"ID"},domProps:{value:t.searchId},on:{input:function(a){a.target.composing||(t.searchId=a.target.value)}}})]),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchRegistration,expression:"searchRegistration"},{name:"mask",rawName:"v-mask",value:"#####################",expression:"'#####################'"}],ref:"fieldRegistration",staticClass:"form-control form-control-lg",attrs:{type:"text",id:"registration-number",name:"registration-number",placeholder:"Nº. da matrícula"},domProps:{value:t.searchRegistration},on:{input:function(a){a.target.composing||(t.searchRegistration=a.target.value)}}})]),s("div",{staticClass:"col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchExternalId,expression:"searchExternalId"}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"external-id",name:"external-id",placeholder:"Identificador SE"},domProps:{value:t.searchExternalId},on:{input:function(a){a.target.composing||(t.searchExternalId=a.target.value)}}})]),s("div",{staticClass:"col-md-4 mt-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"student-name",name:"student-name",placeholder:"Nome do aluno"},domProps:{value:t.searchName},on:{input:function(a){a.target.composing||(t.searchName=a.target.value)}}})]),s("div",{staticClass:"col-md-4 mt-3"},[s("v-select",{attrs:{options:t.status},model:{value:t.selected,callback:function(a){t.selected=a},expression:"selected"}})],1),s("div",{staticClass:"col-md-4 pt-5 mt-5"},[s("button",{ref:"searchButton",staticClass:"btn btn-alt-primary btn-lg btn-block mt-1",on:{click:function(a){t.getDossies(1)}}},[t._v("Buscar\n                        "),s("i",{staticClass:"fa fa-search ml-5"})])])])])])]),s("div",{staticClass:"block mt-50"},[t.loadingDossies?s("div",[t._m(3)]):s("div",{staticClass:"block-content"},[s("h5",{staticClass:"pt-1 text-right"},[s("span",{staticClass:"mr-10"},[s("strong",[t._v(t._s(t.totalCount))])]),s("small",[t._v("registros encontrados")])]),s("table",{staticClass:"table table-vcenter"},[t._m(2),s("tbody",t._l(t.searchResult,function(a,e){return s("tr",[s("th",{attrs:{scope:"row"}},[t._v(t._s(a.documentId))]),s("td",[t._v(t._s(a.registration))]),s("td",[t._v(t._s(a.externalId))]),s("td",[t._v(t._s(a.name))]),s("td",[1===a.statusId?s("span",{staticClass:"badge badge-danger"},[t._v("Não iniciado")]):t._e(),2===a.statusId?s("span",{staticClass:"badge badge-primary"},[t._v("Iniciado")]):t._e()]),s("td",[t._v(t._s(t.convertingDate(e)))]),s("td",{staticClass:"text-right"},[s("div",{staticClass:"btn-group"},[s("router-link",{staticClass:"btn btn-lg btn-success js-tooltip-enabled",attrs:{to:"/cut-selected/"+a.documentId,"data-title":"Iniciar recorte"}},[s("i",{staticClass:"fa fa-crop"})])],1)])])}),0)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("nav",[s("ul",{staticClass:"pagination float-right mt-20"},[s("li",{}),s("li",{staticClass:"page-item",class:{disabled:1===t.currentPage}},[s("a",{staticClass:"page-link mr-1",on:{click:function(a){t.getDossies("back")}}},[t._v("Anterior")])]),t._l(t.numPagination,function(a){return s("li",{directives:[{name:"show",rawName:"v-show",value:t.showPagination(a),expression:"showPagination(n)"}],staticClass:"page-item",class:{disabled:t.currentPage===a}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){t.getDossies(a)}}},[t._v(t._s(a))])])}),s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link page-total"},[t._v("de "+t._s(t.numPagination)+" ")])]),s("li",{staticClass:"page-item",class:{disabled:t.currentPage===t.numPagination}},[s("a",{staticClass:"page-link ml-1",on:{click:function(a){t.getDossies("next")}}},[t._v("Próximo")])])],2)])])])])])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",{staticClass:"content-heading"},[s("i",{staticClass:"si si-arrow-left"}),s("span",{staticClass:"h3"},[t._v("Dossiês à recortar")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"block-header bg-gd-emerald shadow"},[s("h5",{staticClass:"text-black mb-0"},[t._v("Utilize a busca abaixo para localizar um dossiê por matrícula ou por\n                nome.")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",{staticClass:"thead-light mb-50"},[s("tr",{staticClass:"p-50"},[s("th",{staticClass:"py-20"},[s("b",[t._v("ID")])]),s("th",{staticClass:"py-20"},[s("b",[t._v("Matrícula")])]),s("th",{staticClass:"py-20"},[s("b",[t._v("Identificador SE")])]),s("th",{staticClass:"py-20"},[s("b",[t._v("Nome")])]),s("th",{staticClass:"py-20"},[s("b",[t._v("Status")])]),s("th",{staticClass:"py-20"},[s("b",[t._v("Criado")])]),s("th",{staticClass:"py-20"})])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h2",{staticClass:"text-center"},[s("i",{staticClass:"fa fa-spinner fa-spin"})])}],n=(s("cadf"),s("551c"),s("097d"),s("46f1")),r={data:function(){return{searchResult:[],loadingDossies:!0,searchId:"",searchExternalId:"",searchName:"",searchRegistration:"",searchStatus:"",status:[{id:0,label:"Selecione Status"},{id:1,label:"Não iniciado"},{id:2,label:"Iniciado"}],selected:{id:0,label:"Selecione Status"},currentPage:1,totalCount:null,totalShow:10,numPagination:0,searchActivate:!1}},methods:{getDossies:function(t){var a=this,s=window.localStorage.selectedUnit;this.loadingDossies=!0,"back"===t?this.currentPage--:"next"===t?this.currentPage++:this.currentPage=t;var e="/Documents/getDocumentSlices?unityId="+s,i="/Documents/getDocumentSlices?unityId="+s+"&currentPage="+this.currentPage+"&qtdEntries="+this.totalShow;0!==this.searchRegistration.length&&(e+="&registration="+this.searchRegistration,i+="&registration="+this.searchRegistration),0!==this.searchName.length&&(e+="&name="+this.searchName,i+="&name="+this.searchName),1===this.selected.id&&(e+="&documentStatusId=1",i+="&documentStatusId=1"),2===this.selected.id&&(e+="&documentStatusId=2",i+="&documentStatusId=2"),0!==this.searchExternalId.length&&(e+="&externalId="+this.searchExternalId,i+="&externalId="+this.searchExternalId),0!==this.searchId.length&&(e+="&documentId="+this.searchId,i+="&documentId="+this.searchId),this.createPagination(e),n["default"].get(i).then(function(t){var s=t.data;a.loadingDossies=!1,a.searchResult=s.result}),this.$refs.fieldRegistration.focus()},createPagination:function(t){var a=this;n["default"].get(t).then(function(t){var s=t.data;a.loadingDossies=!1,a.totalCount=s.totalCount,a.numPagination=Math.ceil(a.totalCount/a.totalShow)})},showPagination:function(t){if(this.currentPage===t||t===this.currentPage-1||t===this.currentPage-2||t===this.currentPage+1||t===this.currentPage+2)return!0},convertingDate:function(t){var a=this.searchResult[t].createdDate,s=a.substr(0,4),e=a.substr(5,2),i=a.substr(8,2),n=i+"/"+e+"/"+s;return n}},mounted:function(){this.getDossies(this.currentPage)},watch:{selected:function(){"Selecione Status"!==this.selected&&this.$refs.searchButton.focus()}}},c=r,o=s("2877"),l=Object(o["a"])(c,e,i,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0bd7f4.10245190.js.map